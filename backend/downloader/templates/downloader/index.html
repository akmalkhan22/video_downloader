
<!DOCTYPE html>
<html lang="en">
    <head>
        {% load static %}

        <meta charset="UTF-8">
        <title>Pro Video Downloader - Download Videos Instantly</title>
        <meta name="description" content="Download YouTube and social media videos for free in HD or MP3 format. Fast, secure, and no installation required.">

        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="robots" content="index, follow">
        <meta name="language" content="English">
        <link rel="canonical" href="https://allvediodownloader.com/" />
        <meta property="og:title" content="Pro Video Downloader - Download Videos Instantly">
        <meta property="og:description" content="Download YouTube and social media videos for free in HD or MP3 format. No signup or installation needed.">
        <meta property="og:image" content="https://allvediodownloader.com//static/video_dowloader.jpg">
        <meta property="og:url" content="https://allvediodownloader.com/">
        <meta name="twitter:card" content="summary_large_image">
    
        <meta name="keywords"
            content="YouTube downloader, video download, online downloader, free downloader, Snapshot video downloader, facebook video downloader, twitter video downloader,  HD video download, MP3 download, free video converter">
        <meta name="author" content="Video Downloader Pro">
        <title>Pro Video Downloader - Fast and Reliable</title>
        <link
            href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css"
            rel="stylesheet">
        <link rel="stylesheet" href="{% static 'style.css' %}">
        <style>
            body {
                font-family: Arial, sans-serif;
                margin: 2rem;
            }
            .progress {
                width: 100%;
                background: #eee;
                border-radius: 10px;
                overflow: hidden;
                margin-top: 1rem;
            }
            .progress-bar {
                transition: width 0.4s ease;
                height: 27px;
                background: #4caf50;
                width: 0%;
                color: white;
                text-align: center;
                line-height: 20px;
            }
            
        </style>
    </head>
    <body>

        <!-- Header Section -->
        <header>
            <h1>Ultimate Video Downloader</h1>
            <p>Your trusted tool to download videos quickly and easily.</p>
        </header>

        <!-- Download Box -->
        <section>
            <div class="download-box">
                <h3 class="text-center text-dark">Paste your video link
                    here</h3>
                <form id="downloadForm" method="POST">
                    {% csrf_token %}
                    <input type="url" class="form-control" id="videoUrl"
                        name="video_url" placeholder="Enter video URL..."
                        required>

                    <select class="form-select" id="videoQuality"
                        name="video_quality" required>
                        <option disabled selected>Select Video Quality</option>
                        <option value="1080p">1080p (Full HD)</option>
                        <option value="720p">720p (HD)</option>
                        <option value="480p">480p (SD)</option>
                        <option value="360p">360p</option>
                        <option value="audio">Audio Only (MP3)</option>
                    </select>
                    <button type="submit">Download Now</button>
                </form>
                <div id="downloadResult" class="mt-4 d-none">
                    <a id="downloadLink" href="#"
                        class="btn btn-success w-100">Download Video</a>
                </div>
                <div id="errorMessage"
                    class="alert alert-danger mt-4 d-none"></div>
                <div id="loader" class="d-none spinner"
                    style="height: 30; margin-top: 20px; text-align: center;">
                    <span class="loader"></span>
                </div>
                <div class="progress" id="progressContainer"
                    style="display: none;">
                    <div class="progress-bar" id="progressBar">0%</div>
                </div>
                <p id="statusMessage" style="margin-top: 1rem; color:black"></p>
            </div>
        </section>

        <!-- Platform Icons -->
        <section class="mt-4">
            <div class="platform-icons">
                <h3>Supported Platforms</h3>
                <img src="https://img.icons8.com/ios-filled/50/windows-logo.png"
                    alt="Windows">
                <img src="https://img.icons8.com/ios-filled/50/mac-logo.png"
                    alt="Mac">
                <img src="https://img.icons8.com/ios-filled/50/android.png"
                    alt="Android">
                <img src="https://img.icons8.com/ios-filled/50/linux.png"
                    alt="Linux">
            </div>
        </section>

        <!-- Steps Section -->
        <section class="steps">
            <h2>How to Download Videos</h2>
            <div class="row justify-content-center">
                <div class="col-md-3 text-center step-item">
                    <img src="https://img.icons8.com/ios-filled/100/paste.png"
                        alt="Paste">
                    <p>Copy the video URL from your browser and paste it
                        here.</p>
                </div>
                <div class="col-md-3 text-center step-item">
                    <img
                        src="https://img.icons8.com/ios-filled/100/download-from-cloud.png"
                        alt="Process">
                    <p>Select the quality and click on "Download".</p>
                </div>
                <div class="col-md-3 text-center step-item">
                    <img
                        src="https://img.icons8.com/ios-filled/100/video-file.png"
                        alt="Download">
                    <p>Save the file to your device and enjoy watching!</p>
                </div>
            </div>
        </section>

        <!-- FAQ Section -->
        <section class="faq">
            <h2 class="text-center text-light">FAQs</h2>
            <div class="accordion" id="faqAccordion">
                <div class="accordion-item">
                    <h2 class="accordion-header">
                        <button class="accordion-button" type="button"
                            data-bs-toggle="collapse" data-bs-target="#faq1">
                            Is this downloader free to use?
                        </button>
                    </h2>
                    <div id="faq1" class="accordion-collapse collapse show">
                        <div class="accordion-body">
                            Yes, Pro Video Downloader is completely free for
                            everyone.
                        </div>
                    </div>
                </div>
                <div class="accordion-item">
                    <h2 class="accordion-header">
                        <button class="accordion-button collapsed" type="button"
                            data-bs-toggle="collapse" data-bs-target="#faq2">
                            What formats are supported?
                        </button>
                    </h2>
                    <div id="faq2" class="accordion-collapse collapse">
                        <div class="accordion-body">
                            We support MP4, MP3, Full HD, and more.
                        </div>
                    </div>
                </div>
                <div class="accordion-item">
                    <h2 class="accordion-header">
                        <button class="accordion-button collapsed" type="button"
                            data-bs-toggle="collapse" data-bs-target="#faq3">
                            Is my data safe?
                        </button>
                    </h2>
                    <div id="faq3" class="accordion-collapse collapse">
                        <div class="accordion-body">
                            Yes, we do not store any data or videos from our
                            users.
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Footer Section -->
        <footer>
            <p>&copy; 2025 Pro Video Downloader. All Rights Reserved.</p>
        </footer>
        <script
            src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

        <!-- <script src="{% static 'script1.js' %}"></script> -->
        <script>
        


// Function to get CSRF token from cookies
function getCSRFToken() {
    const cookies = document.cookie.split(';');
    for (let cookie of cookies) {
        const [name, value] = cookie.trim().split('=');
        if (name === 'csrftoken') {
            return value;
        }
    }
    return null;
}


        const form = document.getElementById('downloadForm');
        const progressBar = document.getElementById('progressBar');
        const progressContainer = document.getElementById('progressContainer');
        const statusMessage = document.getElementById('statusMessage');

        form.addEventListener('submit', async function (e) {
            e.preventDefault();

            const url = document.getElementById('videoUrl').value;
            const quality = document.getElementById('videoQuality').value;

            progressContainer.style.display = 'block';
            simulatedProgress = 0;
            hasRealProgressStarted = false;
            updateProgressBar(0, 'Preparing download...');
            startFakeProgress();

          
            progressBar.style.width = '0%';
            progressBar.innerText = '0%';
            statusMessage.innerText = 'Starting download...';
            const csrfToken = getCSRFToken();
            try {
                const res = await fetch('/download/', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/x-www-form-urlencoded',
                        'X-CSRFToken': csrfToken,
                    },
                    body: new URLSearchParams({
                        video_url: url,
                        video_quality: quality
                    })
                });

                const data = await res.json();

                if (data.download_id) {
                    const downloadId = data.download_id;
                    form.reset(); // Reset the form after submission
                    pollProgress(downloadId);
                } else {
                    stopFakeProgress();
                    statusMessage.innerText = data.error || 'Unexpected error occurred.';
                }

            } catch (err) {
                stopFakeProgress();
                console.error(err);
                updateProgressBar(0, 'Error: Unable to connect to server.');
                statusMessage.innerText = 'Error: Unable to connect to server.';
            }
        });
                
        let simulatedProgress = 0;
        let fakeInterval;
        let realInterval;
        let hasRealProgressStarted = false;

        function startFakeProgress() {
            fakeInterval = setInterval(() => {
                if (simulatedProgress < 70) {
                    simulatedProgress += Math.random() * 5; // Slowly increase
                    updateProgressBar(Math.floor(simulatedProgress), 'Downloading...');
                }
            }, 500);
        }

        function updateProgressBar(value, message) {
            progressBar.style.width = value + '%';
            progressBar.innerText = value + '%';
            statusMessage.innerText = message;
        }

        function stopFakeProgress() {
            clearInterval(fakeInterval);
        }

        function pollProgress(downloadId) {
            stopFakeProgress(); // Optional if you want to wait till real starts

            realInterval = setInterval(async () => {
                try {
                    const res = await fetch(`/progress/${downloadId}/`);
                    const data = await res.json();

                    if (data.status === 'downloading') {
                        if (!hasRealProgressStarted) {
                            stopFakeProgress();
                            hasRealProgressStarted = true;
                        }

                        updateProgressBar(data.progress, 'Downloading...');
                    } else if (data.status === 'finished') {
                        clearInterval(realInterval);
                        updateProgressBar(100, 'Download complete.');

                        // Trigger file download
                        const a = document.createElement('a');
                        a.href = `/download/${downloadId}/`;
                        a.download = data.filename;
                        a.click();
                    }
                } catch (err) {
                    clearInterval(realInterval);
                    statusMessage.innerText = 'Error: Could not get progress.';
                }
            }, 1500);
        }
            
    </script>

    </body>
</html>
